<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <title>Hello, world!</title>
  </head>
  <body>
    <div id="survey" class="jumbotron jumbotron-fluid">
        <div class="container">
            <!-- jumbotron -->
            <div class="my-header jumbotron text-center hoverable p-4">

                <h1 class="display-4">Find a New Friend</h1>
                <hr class="my-4">
                <p class="lead">Take This Survey to Get Match to Your New Friend! (results may vary)</p>
                <p>Get Ready to Meet Your New Best Pal!</p>
               
                
            </div>
            <!-- jumbotron -->
        </div>
    </div>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <h3><strong>About You</strong></h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required="">
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required="">
        <hr>
    </div>
    <div class="row">
        <div class="col-md-12">

            <!-- Question  1 -->
                <div class="form-group">
                        <label class="control-label statement" for="q1">
                            <h4>Question 1 </h4><br>
                            <p>Do you Enjoy Watching Sports?</p>
                        </label>
                        <ul class='question'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q1" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q1" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q1" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q1" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q1" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                      </ul>  
                </div>    
        </div>
    </div>
               <!-- question 2 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q2">
                            <h4>Question 2 </h4><br>
                            <p>Do you follow current events?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q2" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q2" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q2" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q2" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q2" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                    </div>
        </div>
    </div>

         <!-- question 3 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q3">
                            <h4>Question 3 </h4><br>
                            <p>Do you like dogs?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q3" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q3" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q3" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q3" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q3" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                    </div>
        </div>
    </div>
              <!-- question 4 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q1">
                            <h4>Question 4 </h4><br>
                            <p>Do you like spending time outdoors?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q4" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q4" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q4" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q4" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q4" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                    </div>
        </div>
    </div>
                 <!-- question 5 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q5">
                            <h4>Question 5 </h4><br>
                            <p>Are you adventerous?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q5" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q5" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q5" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q5" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q5" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                    </div>
        </div>
    </div>
               <!-- question 6  -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q6">
                            <h4>Question 6 </h4><br>
                            <p>Do you like coffee?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q6" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q6" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q6" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q6" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q6" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                </div>
        </div>
    </div>
             <!-- question 7 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q7">
                            <h4>Question 7 </h4><br>
                            <p>Do you like to travel?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q7" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q7" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q7" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q7" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q7" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                </div>
        </div>
    </div>
                  <!-- question 8  -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q8">
                            <h4>Question 8 </h4><br>
                            <p>Do you like to talk a lot?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q8" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q8" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q8" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q8" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q8" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                </div>
        </div>
    </div>
                <!-- question 9  -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q9">
                            <h4>Question 9 </h4><br>
                            <p>Are you an introvert?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q9" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q9" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q9" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q9" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q9" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                </div>
        </div>
    </div>
                <!-- question 10 -->
    <div class="row">
        <div class="col-md-12">
                <div class="form-group">
                        <label class="control-label statement" for="q10">
                            <h4>Question 10 </h4><br>
                            <p> Are you a night owl?</p>
                        </label>
                        <ul class='likert'>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q10" value="1">
                                <label class="form-check-label">Strongly disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q10" value="2">
                                <label class="form-check-label">Disagree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q10" value="3" checked>
                                <label class="form-check-label">Neutral</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q10" value="4">
                                <label class="form-check-label">Agree</label>
                            </li>
                            <li class="form-check">
                                <input class="form-check-input" type="radio" name="q10" value="5">
                                <label class="form-check-label">Strongly agree</label>
                            </li>
                        </ul>
                </div>
        </div>
    </div>
    <footer class="footer my-4">
            <hr>
            <div class="text-center center-block">
                <p><a href="/"><span class="fa fa-home"></span></a> | <a href="/api/friends">API Friends Link</a> | <a href=""
                        target="_blank">GitHub Repo</a></p>
    
    
    
            </div>
            <hr>
        </footer>

        <div class="modal fade" id="friendModal" tabindex="-1" role="dialog" aria-labelledby="friendModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 class="modal-title" id="friendModalLabel">Congratulations <span id="yourName"></span>!</h2>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body text-center">
                            <div class="row text-center">
                                <div class="col-sm-6">
                                    <div class="circle">
                                        <img id="yourPicture" class="profile-pic centered-and-cropped" src="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="circle">
                                        <img id="friendPicture" class="profile-pic centered-and-cropped" src="">
                                    </div>
                                </div>
        
                            </div>
                            <div class="row text-center">
                                <span id="message"></span>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Question 10 -->

        <!-- Submit Button -->
        <div class="buttons">

            <button type="button" class="submit btn-lg btn-outline-secondary" data-toggle="modal"
                data-target="#friendModal">Submit</button>
        </div>

        

    

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript">
       
       
       $(".submit").on("click", function (event) {
            event.preventDefault();
            var inputName = $("#user-name").val().trim();
            var inputImageUrl = $("#user-photo").val().trim();
            // Check if user input is valid
            if ((inputName !== "") && (checkImageURL(inputImageUrl))) {
                // Here we grab the form elements
                var newFriend = {
                    name: inputName,
                    photo: inputImageUrl,
                    scores: [
                        $('input[name=q1]:checked').val(),
                        $('input[name=q2]:checked').val(),
                        $('input[name=q3]:checked').val(),
                        $('input[name=q4]:checked').val(),
                        $('input[name=q5]:checked').val(),
                        $('input[name=q6]:checked').val(),
                        $('input[name=q7]:checked').val(),
                        $('input[name=q8]:checked').val(),
                        $('input[name=q9]:checked').val(),
                        $('input[name=q10]:checked').val()
                    ]
                }
                console.log("newFriend:", JSON.stringify(newFriend));
            } else {
                // Pop open the modal dialog
                $('#alertModal').modal('show')
            };
            
            var currentURL = window.location.origin;
            $.post(currentURL + "/api/friends", newFriend, function (data) {
                console.log("responses data:", JSON.stringify(data));
                console.log("Matching friends");
                // Set the name and image values of friend match modal
                $("#yourName").text(newFriend.name)
                $("#yourPicture").attr("src", newFriend.photo);
                $("#friendPicture").attr("src", data.matchImage);
                $("#message").text("Your match is " + data.matchName);
                // Clear the form when submitting
                $("#user-name").val("");
                $("#user-photo").val("");
                $("#q1").val("");
                $("#q2").val("");
                $("#q3").val("");
                $("#q4").val("");
                $("#q5").val("");
                $("#q6").val("");
                $("#q7").val("");
                $("#q8").val("");
                $("#q9").val("");
                $("#q10").val("");
                // Pop open the modal dialog
                $('#friendModal').modal('show')
            });
            return false;
        });
        function checkImageURL(url) {
            return (url.match(/\.(jpeg|jpg|gif|png)$/) != null);
        }
    </script>
  </body>
</html>